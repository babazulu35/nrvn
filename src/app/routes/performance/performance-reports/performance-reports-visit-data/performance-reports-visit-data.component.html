<app-collapsible-container theme="gray" [isAsideOpen]="true" [asideWidth]="240">
    <div content>

        <div class="p-header p-header--border">
            Performans Sayfası Ziyaret Bilgileri
            <app-button type="icon" theme="primary" size="lg" icon="keyboard_arrow_down" (click)="openReportsMenu($event)"></app-button>

        </div>

        <div class="p-container">
            <div class="p-group" *ngIf="false">
                <div class="p-group__header" style="border-bottom:1px solid #d5d5d5">
                    <div class="p-group__header-bar">
                        <div class="p-group__header-title">
                            Ziyaretçi Sayısı
                        </div>
                    </div>
                </div>
                <!--
                <div class="p-group padding-top-10 full-width">
                    <app-line-chart></app-line-chart>
                </div>
                -->
            </div>

            <div class="p-group" *ngIf="(clickDetailSMChannelData && clickDetailSMChannelData.length) || (clickDetailReferrerData && clickDetailReferrerData.length)">
                <div class="p-group__header">
                    <div class="p-group__header-bar">
                        <div class="p-group__header-title">
                            Ziyaretçi Kaynaklarının Dağılımı
                        </div>
                    </div>
                </div>

                <div class="c-box-report-statistic" style="width:415px;float:left;margin-bottom:50px;" *ngIf="clickDetailSMChannelData.length">
                    <div class="c-box-report-statistic__title">
                        <!-- <div class="c-box-report-statistic__title-value">%23,48</div> -->
                        <div class="c-box-report-statistic__title-text">Sosyal Medya</div>
                    </div>
                    <!-- end c-box-report-statistic__title -->

                    <ul class="c-box-report-statistic__list">
                        <li class="c-box-report-statistic__list-item" *ngFor="let item of clickDetailSMChannelData">
                            <div class="c-box-report-statistic__list-item-label">{{item.SMChannelName}}</div>
                            <div class="c-box-report-statistic__list-item-progress-bar-wrap">
                                <div class="c-box-report-statistic__list-item-progress-bar">
                                    <span class="c-box-report-statistic__list-item-progress-bar-fill" style="background-color:#2b98f0" [style.width.%]="item.Percentage">
                                    </span>
                                </div>
                            </div>
                            <div class="c-box-report-statistic__list-item-value">%{{item.Percentage |number:'1.2-2'}}</div>
                        </li>
                    </ul>
                    <!-- end c-box-report-statistic__list -->

                    <div class="c-box-report-statistic__more c-box-report-statistic__more--button">
                        <a href="#"><i class="icon__n icon__n--more_horiz"></i></a>
                    </div>
                    <!-- end c-box-report-statistic__more -->
                </div>

                <div class="c-box-report-statistic" style="width:415px;margin-right:30px;float:left;margin-bottom:50px;" *ngIf="clickDetailReferrerData.length">
                    <div class="c-box-report-statistic__title">
                        <!-- <div class="c-box-report-statistic__title-value">%12,68</div> -->
                        <div class="c-box-report-statistic__title-text">Referans Siteler</div>
                    </div>
                    <!-- end c-box-report-statistic__title -->

                    <ul class="c-box-report-statistic__list">
                        <li class="c-box-report-statistic__list-item" *ngFor="let item of clickDetailReferrerData">
                            <div class="c-box-report-statistic__list-item-label">{{item.ReferrerName}}</div>
                            <div class="c-box-report-statistic__list-item-progress-bar-wrap">
                                <div class="c-box-report-statistic__list-item-progress-bar">
                                    <span class="c-box-report-statistic__list-item-progress-bar-fill" style="background-color:#2b98f0" [style.width.%]="item.Percentage">
                                    </span>
                                </div>
                            </div>
                            <div class="c-box-report-statistic__list-item-value">%{{item.Percentage |number:'1.2-2'}}</div>
                        </li>
                    </ul>
                    <!-- end c-box-report-statistic__list -->

                    <div class="c-box-report-statistic__more">
                        <a href="#"><i class="icon__n icon__n--more_horiz"></i> <span class="c-box-report-statistic__more-text"><strong>22</strong> SONUÇ DAHA</span></a>
                    </div>
                    <!-- end c-box-report-statistic__more -->
                </div>
            </div>
        </div>
    </div>

    <!-- <app-no-data *ngIf="productPerformances.length == 0" style="max-width: 60%;margin-top:30px" [hasContainer]="true" [icon]='{type: "icon", name: "event"}' title="Seçtiğiniz etkinliğe ait ürün kaydı bulunamadı" description=""></app-no-data> -->
    <!-- /.o-collapsible-container__content -->
    <div aside>
        <div class="p-group" *ngIf="transactionsByVistorsData && transactionsByVistorsData.length">
            <div class="p-group__header">
                <div class="p-group__header-bar">
                    <div class="p-group__header-title">
                        İLK BAKIŞ
                    </div>
                </div>
            </div>

            <div class="p-group__item">
                <div class="c-narrow-report-statistic" style="width:220px;margin-bottom:30px;">
                    <div class="c-narrow-report-statistic__visitor">
                        <div class="c-narrow-report-statistic__visitor-count">{{transactionsByVistorsData[0].Count}}</div>
                        <span class="c-narrow-report-statistic__visitor-label">{{transactionsByVistorsData[0].Name}}</span>
                    </div>

                    <ul class="c-narrow-report-statistic__list c-narrow-report-statistic__list--border" *ngIf="transactionsByVistorsData.length > 1">
                        <li class="c-narrow-report-statistic__list-item" *ngFor="let item of transactionsByVistorsData | slice:1">
                            <span class="c-narrow-report-statistic__list-item-label">{{item.Name}}</span>
                            <span class="c-narrow-report-statistic__list-item-value">{{item.Count}}</span>
                        </li>
                        <!-- end c-narrow-report-statistic__list -->
                    </ul>
                    <!-- end c-narrow-report-statistic__list-item -->
                </div>
            </div>
        </div>

        <div class="p-group" *ngIf="clickDetailSourceData && clickDetailSourceData.length">
            <div class="p-group__header">
                <div class="p-group__header-bar">
                    <div class="p-group__header-title">
                        ZİYARETÇİ KAYNAKLARI
                    </div>
                </div>
            </div>

            <div class="p-group__item">
                <!-- Circle Chart Burada Başlıyor -->
                <div class="c-narrow-report-statistic">
                    <div class="c-narrow-report-statistic__chart-item">
                        <app-narrow-report-chart [viewType]="'circle'" [percent]="item.Percentage" [label]="item.SourceName" *ngFor="let item of clickDetailSourceData | slice:0:4"></app-narrow-report-chart>
                    </div>

                    <ul class="c-narrow-report-statistic__list c-narrow-report-statistic__list--border" *ngIf="clickDetailSourceData.length > 4">
                        <li class="c-narrow-report-statistic__list-item" *ngFor="let item of clickDetailSourceData | slice:4">
                            <span class="c-narrow-report-statistic__list-item-label">{{item.SourceName}}</span>
                            <span class="c-narrow-report-statistic__list-item-value">%{{item.Percentage}}</span>
                        </li>
                        <!-- end c-narrow-report-statistic__list -->
                    </ul>
                </div>
                <!-- Circle Chart Burada Bitiyor -->
            </div>
        </div>
    </div>
</app-collapsible-container>
<!-- /.o-collapsible-container -->